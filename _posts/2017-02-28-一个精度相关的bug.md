---
layout: base
permalink: /note/2017-02-28-00
title: 一个精度相关的bug
---

最近做图表

横坐标是时间戳

展示的时候将时间戳转换成对应的时间

不过在32位的机器上展示效果很奇怪

出现了不少横坐标相同的点

源码是swift的我没看过

猜测是内部运算的时候越界过

导致结果丢失精度

后来加了一个基准值

传值的时候传差值

就行了